<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<dom-module id="checkout-form">
    <template>
        <style>
        :host {
            display: block;
        }
        
        .form-title,
        .footer {
            margin-bottom: 20px;
        }
        
        .avatar {
            display: inline-block;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            overflow: hidden;
            background: #3367d6;
            margin-right: 20px;
        }
        
        .company {
            color: #3367d6;
            font-size: 20px;
            font-weight: 200;
        }
        
        gold-cc-expiration-input {
            width: 50%;
            margin-right: 20px;
        }
        
        paper-button {
            background-color: #4285f4;
            color: #fff;
            margin-top: 50px;
            width: 100%;
        }
        
        .card {
            background: #FFFFFF;
            max-width: 400px;
            min-width: 200px;
            margin: 0 auto;
            float: left;
            padding: 13px 25px;
            margin-top: 10px;
            margin-left: 12px;
            margin-right: 12px;
        }
        </style>
        <paper-material class="card" elevation="1">
            <div class="horizontal layout center form-title">
                <div class="avatar" item-icon></div>
                <div class="flex company">ACME Goods Co.</div>
            </div>
            <form is="iron-form" id="form" method="post" action="/checkout">
                <paper-input name="name" label="Name on card" required autocomplete="cc-name"></paper-input>
                <gold-cc-input name="cc-number" required auto-validate card-type="{{typeOfCard}}"></gold-cc-input>
                <div class="horizontal layout">
                    <gold-cc-expiration-input name="cc-expiration" required auto-validate label="Expiration"></gold-cc-expiration-input>
                    <gold-cc-cvc-input name="cc-cvc" required card-type="[[typeOfCard]]"></gold-cc-cvc-input>
                </div>
                <paper-button on-click="_submit">Pay</paper-button>
            </form>
        </paper-material>
    </template>
    <script>
    Polymer({

        is: 'checkout-form',

        listeners: {
            'form.iron-form-submit': '_handleFormSubmit'
        },

        _submit: function() {
            this.$.form.submit();
        },

        _handleFormSubmit: function() {
            console.log('Form submitted successfully! You are so rich now!');
        }

    });
    </script>
</dom-module>
